import{j as e}from"./ui-vendor-CJq8dhki.js";import{r as a,c as w}from"./react-vendor-pL-Lea-m.js";import{u as N,_ as L,C as v,d as f,aB as y,e as C,f as S,g as k,A as F,i as E,L as p,I as x,a as P,n as A,a3 as B}from"./admin-BnupzcLy.js";import{H as I,F as T}from"./index-DrtWPwvx.js";import"./portal-B8QEegQl.js";const M=()=>{const[l,u]=a.useState(""),[o,b]=a.useState(""),[n,c]=a.useState(!1),[m,r]=a.useState(""),{toast:g}=N(),{t:s}=L(),i=w(),j=async t=>{t.preventDefault(),r(""),c(!0);try{const h=await(await fetch("/api/member-login.php",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:l,password:o})})).json();h.success?(g({title:s("memberLogin.loginSuccess"),description:s("memberLogin.welcomeBack")}),i("/member-portal")):r(h.message||s("memberLogin.loginFailed"))}catch(d){console.error("Login error:",d),r(s("memberLogin.serverError"))}finally{c(!1)}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-deep-purple via-deep-purple/95 to-black",children:[e.jsx(I,{}),e.jsx("div",{className:"container mx-auto px-4 py-20",children:e.jsx("div",{className:"max-w-md mx-auto",children:e.jsxs(v,{className:"bg-black/40 border-white/10 backdrop-blur",children:[e.jsxs(f,{className:"space-y-1",children:[e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsx("div",{className:"p-3 bg-electric-blue/20 rounded-full",children:e.jsx(y,{className:"h-12 w-12 text-electric-blue"})})}),e.jsx(C,{className:"text-2xl text-center text-white",children:s("memberLogin.title")}),e.jsx(S,{className:"text-center text-white/70",children:s("memberLogin.subtitle")})]}),e.jsx(k,{children:e.jsxs("form",{onSubmit:j,className:"space-y-4",children:[m&&e.jsx(F,{variant:"destructive",children:e.jsx(E,{children:m})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"email",className:"text-white",children:s("memberLogin.emailLabel")}),e.jsx(x,{id:"email",type:"email",placeholder:s("memberLogin.emailPlaceholder"),value:l,onChange:t=>u(t.target.value),required:!0,className:"bg-black/20 border-white/20 text-white placeholder:text-white/40"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"password",className:"text-white",children:s("memberLogin.passwordLabel")}),e.jsx(x,{id:"password",type:"password",placeholder:s("memberLogin.passwordPlaceholder"),value:o,onChange:t=>b(t.target.value),required:!0,className:"bg-black/20 border-white/20 text-white placeholder:text-white/40"})]}),e.jsx(P,{type:"submit",className:"w-full bg-electric-blue hover:bg-electric-blue/90 text-deep-purple",disabled:n,children:n?e.jsxs(e.Fragment,{children:[e.jsx(A,{className:"mr-2 h-4 w-4 animate-spin"}),s("common.loading")]}):e.jsxs(e.Fragment,{children:[e.jsx(B,{className:"mr-2 h-4 w-4"}),s("memberLogin.loginButton")]})}),e.jsxs("div",{className:"text-center space-y-2 pt-4",children:[e.jsxs("p",{className:"text-sm text-white/60",children:[s("memberLogin.noAccount")," ",e.jsx("button",{type:"button",onClick:()=>i("/join-us"),className:"text-electric-blue hover:underline",children:s("memberLogin.joinNow")})]}),e.jsx("p",{children:e.jsx("button",{type:"button",onClick:()=>i("/forgot-password"),className:"text-electric-blue hover:underline",children:s("memberLogin.forgotPassword")})})]})]})})]})})}),e.jsx(T,{})]})};export{M as default};
