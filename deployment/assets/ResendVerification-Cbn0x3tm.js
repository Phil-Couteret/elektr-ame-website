import{j as e}from"./ui-vendor-CJq8dhki.js";import{r as n,L as x}from"./react-vendor-pL-Lea-m.js";import{u as N,t as w,o as y,s as S}from"./portal-DCQZ89tR.js";import{_ as v,C as V,d as C,e as L,f as k,g as A,A as h,h as T,i as u,ai as F,L as I,I as B,a as D,n as E,as as R}from"./admin-C3PgR-Dd.js";const M=y({email:S().email({message:"Invalid email address"})}),_=()=>{const{t:s}=v(),[c,l]=n.useState(!1),[a,t]=n.useState("idle"),[o,r]=n.useState(""),{register:p,handleSubmit:b,formState:{errors:d},reset:j}=N({resolver:w(M)}),f=async g=>{l(!0),t("idle"),r("");try{const i=await(await fetch("/api/email-resend-verification.php",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(g)})).json();i.success?(t("success"),r(i.message),j()):(t("error"),r(i.message||s("resendVerification.error")))}catch(m){console.error("Resend verification error:",m),t("error"),r(s("resendVerification.networkError"))}finally{l(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-deep-purple via-black to-electric-blue pt-20 flex items-center justify-center",children:e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs(V,{className:"max-w-md mx-auto bg-black/50 backdrop-blur-md border-white/10",children:[e.jsxs(C,{className:"text-center",children:[e.jsx(L,{className:"text-3xl font-bold text-white mb-2",children:s("resendVerification.title")}),e.jsx(k,{className:"text-white/70 text-lg",children:s("resendVerification.subtitle")})]}),e.jsxs(A,{className:"space-y-6",children:[a==="success"&&e.jsxs(h,{className:"border-green-500/50 bg-green-500/10",children:[e.jsx(T,{className:"h-4 w-4 text-green-400"}),e.jsx(u,{className:"text-green-400",children:o})]}),a==="error"&&e.jsxs(h,{variant:"destructive",children:[e.jsx(F,{className:"h-4 w-4"}),e.jsx(u,{children:o})]}),a!=="success"&&e.jsxs("form",{onSubmit:b(f),className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(I,{htmlFor:"email",className:"text-white",children:[s("resendVerification.emailLabel")," *"]}),e.jsx(B,{id:"email",type:"email",...p("email"),className:"bg-white/10 border-white/20 text-white placeholder:text-white/50",placeholder:s("resendVerification.emailPlaceholder")}),d.email&&e.jsx("p",{className:"text-red-400 text-sm",children:d.email.message})]}),e.jsx(D,{type:"submit",className:"w-full bg-electric-blue hover:bg-electric-blue/80 text-deep-purple",disabled:c,children:c?e.jsxs(e.Fragment,{children:[e.jsx(E,{className:"mr-2 h-4 w-4 animate-spin"}),s("common.loading")]}):e.jsxs(e.Fragment,{children:[e.jsx(R,{className:"mr-2 h-4 w-4"}),s("resendVerification.submitButton")]})})]}),e.jsxs("div",{className:"text-center text-white/70 text-sm space-y-2",children:[e.jsxs("p",{children:[s("resendVerification.alreadyVerified")," ",e.jsx(x,{to:"/member-login",className:"text-electric-blue hover:underline",children:s("resendVerification.loginLink")})]}),e.jsxs("p",{children:[s("resendVerification.noAccount")," ",e.jsx(x,{to:"/join-us",className:"text-electric-blue hover:underline",children:s("resendVerification.joinLink")})]})]})]})]})})})};export{_ as default};
